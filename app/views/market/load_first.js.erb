// Scroll to top
var page = $("html, body");
page.animate({ scrollTop: 0 }, "slow");

// Allow user to scroll down while page is scrolling top automatically
page.on(
  "scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove",
  function(){
    page.stop();
  }
);

// Set no content while loading
$("#posts").html("");

// Display preloader
$("#preloader-nav" ).show().fadeOut("slow", function() {
  // Callback preloader

  // Insert will_page
  if (!$('#posts-infinite-scrolling').length) {
    $("#posts").after('<div id="posts-infinite-scrolling"></div>');
  }

  // Set will_page
  $('#posts-infinite-scrolling').html('<%= j will_paginate @posts %>');

  // Render posts
  $("#posts").html("<%= j render(@posts, post_class: 's12 m6 l4') %>").
    hide().fadeIn("slow");
 });


